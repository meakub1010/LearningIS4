<!doctype html>
<html>
<head>
  <base href="./">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>auto-login</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>
<body>

  <script>
    (function () {
      if (typeof window.CustomEvent === "function") return false; //If not IE

      function CustomEvent(event, params) {
        params = params || { bubbles: false, cancelable: false, detail: undefined };
        var evt = document.createEvent('CustomEvent');
        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
        return evt;
      }

      CustomEvent.prototype = window.Event.prototype;

      window.CustomEvent = CustomEvent;
    })();

    window.onload = function () {
      /* The parent window hosts the Angular application */
      var parent = window.parent;
      /* Send the id_token information to the oidc message handler */
      var event = new CustomEvent('oidc-silent-login-message', { detail: window.location.hash.substr(1) });
      parent.dispatchEvent(event);
    };
  </script>
  auto-login iframe
</body>
</html>
